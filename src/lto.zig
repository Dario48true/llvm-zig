const LLVMtype = @import("types.zig");

pub extern fn lto_get_version() [*:0]const u8;
pub extern fn lto_get_error_message() [*:0]const u8;
pub extern fn lto_module_is_object_file(path: [*c]const u8) LLVMtype.lto_bool_t;
pub extern fn lto_module_is_object_file_for_target(path: [*c]const u8, target_triple_prefix: [*c]const u8) LLVMtype.lto_bool_t;
pub extern fn lto_module_has_objc_category(mem: ?*const anyopaque, length: usize) LLVMtype.lto_bool_t;
pub extern fn lto_module_is_object_file_in_memory(mem: ?*const anyopaque, length: usize) LLVMtype.lto_bool_t;
pub extern fn lto_module_is_object_file_in_memory_for_target(mem: ?*const anyopaque, length: usize, target_triple_prefix: [*c]const u8) LLVMtype.lto_bool_t;
pub extern fn lto_module_create(path: [*c]const u8) LLVMtype.lto_module_t;
pub extern fn lto_module_create_from_memory(mem: ?*const anyopaque, length: usize) LLVMtype.lto_module_t;
pub extern fn lto_module_create_from_memory_with_path(mem: ?*const anyopaque, length: usize, path: [*c]const u8) LLVMtype.lto_module_t;
pub extern fn lto_module_create_in_local_context(mem: ?*const anyopaque, length: usize, path: [*c]const u8) LLVMtype.lto_module_t;
pub extern fn lto_module_create_in_codegen_context(mem: ?*const anyopaque, length: usize, path: [*c]const u8, cg: LLVMtype.LLVMtype.lto_code_gen_t) LLVMtype.lto_module_t;
pub extern fn lto_module_create_from_fd(fd: c_int, path: [*c]const u8, file_size: usize) LLVMtype.lto_module_t;
pub extern fn lto_module_create_from_fd_at_offset(fd: c_int, path: [*c]const u8, file_size: usize, map_size: usize, offset: c_long) LLVMtype.lto_module_t;
pub extern fn lto_module_dispose(mod: LLVMtype.lto_module_t) void;
pub extern fn lto_module_get_target_triple(mod: LLVMtype.lto_module_t) [*c]const u8;
pub extern fn lto_module_set_target_triple(mod: LLVMtype.lto_module_t, triple: [*c]const u8) void;
pub extern fn lto_module_get_num_symbols(mod: LLVMtype.lto_module_t) c_uint;
pub extern fn lto_module_get_symbol_name(mod: LLVMtype.lto_module_t, index: c_uint) [*c]const u8;
pub extern fn lto_module_get_symbol_attribute(mod: LLVMtype.lto_module_t, index: c_uint) LLVMtype.lto_symbol_attributes;
pub extern fn lto_module_get_linkeropts(mod: LLVMtype.lto_module_t) [*c]const u8;
pub extern fn lto_module_get_macho_cputype(mod: LLVMtype.lto_module_t, out_cputype: [*c]c_uint, out_cpusubtype: [*c]c_uint) LLVMtype.lto_bool_t;
pub extern fn lto_module_has_ctor_dtor(mod: LLVMtype.lto_module_t) LLVMtype.lto_bool_t;

pub const lto_diagnostic_handler_t = ?*const fn (LLVMtype.lto_codegen_diagnostic_severity_t, [*c]const u8, ?*anyopaque) callconv(.C) void;
pub extern fn lto_codegen_set_diagnostic_handler(LLVMtype.lto_code_gen_t, lto_diagnostic_handler_t, ?*anyopaque) void;
pub extern fn lto_codegen_create() LLVMtype.lto_code_gen_t;
pub extern fn lto_codegen_create_in_local_context() LLVMtype.lto_code_gen_t;
pub extern fn lto_codegen_dispose(LLVMtype.lto_code_gen_t) void;
pub extern fn lto_codegen_add_module(cg: LLVMtype.LLVMtype.lto_code_gen_t, mod: LLVMtype.lto_module_t) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_set_module(cg: LLVMtype.LLVMtype.lto_code_gen_t, mod: LLVMtype.lto_module_t) void;
pub extern fn lto_codegen_set_debug_model(cg: LLVMtype.LLVMtype.lto_code_gen_t, LLVMtype.lto_debug_model) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_set_pic_model(cg: LLVMtype.LLVMtype.lto_code_gen_t, LLVMtype.lto_codegen_model) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_set_cpu(cg: LLVMtype.LLVMtype.lto_code_gen_t, cpu: [*c]const u8) void;
pub extern fn lto_codegen_set_assembler_path(cg: LLVMtype.LLVMtype.lto_code_gen_t, path: [*c]const u8) void;
pub extern fn lto_codegen_set_assembler_args(cg: LLVMtype.LLVMtype.lto_code_gen_t, args: [*c][*c]const u8, nargs: c_int) void;
pub extern fn lto_codegen_add_must_preserve_symbol(cg: LLVMtype.LLVMtype.lto_code_gen_t, symbol: [*c]const u8) void;
pub extern fn lto_codegen_write_merged_modules(cg: LLVMtype.LLVMtype.lto_code_gen_t, path: [*c]const u8) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_compile(cg: LLVMtype.LLVMtype.lto_code_gen_t, length: [*c]usize) ?*const anyopaque;
pub extern fn lto_codegen_compile_to_file(cg: LLVMtype.LLVMtype.lto_code_gen_t, name: [*c][*c]const u8) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_optimize(cg: LLVMtype.LLVMtype.lto_code_gen_t) LLVMtype.lto_bool_t;
pub extern fn lto_codegen_compile_optimized(cg: LLVMtype.LLVMtype.lto_code_gen_t, length: [*c]usize) ?*const anyopaque;
pub extern fn lto_api_version() c_uint;
pub extern fn lto_set_debug_options(options: [*c]const [*c]const u8, number: c_int) void;
pub extern fn lto_codegen_debug_options(cg: LLVMtype.LLVMtype.lto_code_gen_t, [*c]const u8) void;
pub extern fn lto_codegen_debug_options_array(cg: LLVMtype.LLVMtype.lto_code_gen_t, [*c]const [*c]const u8, number: c_int) void;
pub extern fn lto_initialize_disassembler() void;
pub extern fn lto_codegen_set_should_internalize(cg: LLVMtype.LLVMtype.lto_code_gen_t, ShouldInternalize: LLVMtype.lto_bool_t) void;
pub extern fn lto_codegen_set_should_embed_uselists(cg: LLVMtype.LLVMtype.lto_code_gen_t, ShouldEmbedUselists: LLVMtype.lto_bool_t) void;
pub extern fn lto_input_create(buffer: ?*const anyopaque, buffer_size: usize, path: [*c]const u8) LLVMtype.lto_input_t;
pub extern fn lto_input_dispose(input: LLVMtype.lto_input_t) void;
pub extern fn lto_input_get_num_dependent_libraries(input: LLVMtype.lto_input_t) c_uint;
pub extern fn lto_input_get_dependent_library(input: LLVMtype.lto_input_t, index: usize, size: [*c]usize) [*c]const u8;
pub extern fn lto_runtime_lib_symbols_list(size: [*c]usize) [*c]const [*c]const u8;
pub const LTOObjectBuffer = extern struct {
    Buffer: [*c]const u8,
    Size: usize,
};
pub extern fn thinlto_create_codegen() LLVMtype.thinLLVMtype.lto_code_gen_t;
pub extern fn thinlto_codegen_dispose(cg: LLVMtype.thinLLVMtype.lto_code_gen_t) void;
pub extern fn thinlto_codegen_add_module(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, identifier: [*c]const u8, data: [*c]const u8, length: c_int) void;
pub extern fn thinlto_codegen_process(cg: LLVMtype.thinLLVMtype.lto_code_gen_t) void;
pub extern fn thinlto_module_get_num_objects(cg: LLVMtype.thinLLVMtype.lto_code_gen_t) c_uint;
pub extern fn thinlto_module_get_object(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, index: c_uint) LTOObjectBuffer;
pub extern fn thinlto_module_get_num_object_files(cg: LLVMtype.thinLLVMtype.lto_code_gen_t) c_uint;
pub extern fn thinlto_module_get_object_file(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, index: c_uint) [*c]const u8;
pub extern fn thinlto_codegen_set_pic_model(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, LLVMtype.LLVMtype.lto_codegen_model) LLVMtype.lto_bool_t;
pub extern fn thinlto_codegen_set_savetemps_dir(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, save_temps_dir: [*c]const u8) void;
pub extern fn thinlto_set_generated_objects_dir(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, save_temps_dir: [*c]const u8) void;
pub extern fn thinlto_codegen_set_cpu(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, cpu: [*c]const u8) void;
pub extern fn thinlto_codegen_disable_codegen(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, disable: LLVMtype.lto_bool_t) void;
pub extern fn thinlto_codegen_set_codegen_only(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, codegen_only: LLVMtype.lto_bool_t) void;
pub extern fn thinlto_debug_options(options: [*c]const [*c]const u8, number: c_int) void;
pub extern fn lto_module_is_thinlto(mod: LLVMtype.lto_module_t) LLVMtype.lto_bool_t;
pub extern fn thinlto_codegen_add_must_preserve_symbol(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, name: [*c]const u8, length: c_int) void;
pub extern fn thinlto_codegen_add_cross_referenced_symbol(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, name: [*c]const u8, length: c_int) void;
pub extern fn thinlto_codegen_set_cache_dir(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, cache_dir: [*c]const u8) void;
pub extern fn thinlto_codegen_set_cache_pruning_interval(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, interval: c_int) void;
pub extern fn thinlto_codegen_set_final_cache_size_relative_to_available_space(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, percentage: c_uint) void;
pub extern fn thinlto_codegen_set_cache_entry_expiration(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, expiration: c_uint) void;
pub extern fn thinlto_codegen_set_cache_size_bytes(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, max_size_bytes: c_uint) void;
pub extern fn thinlto_codegen_set_cache_size_megabytes(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, max_size_megabytes: c_uint) void;
pub extern fn thinlto_codegen_set_cache_size_files(cg: LLVMtype.thinLLVMtype.lto_code_gen_t, max_size_files: c_uint) void;
pub const LTO_SYMBOL_ALIGNMENT_MASK: c_int = 31;
pub const LTO_SYMBOL_PERMISSIONS_MASK: c_int = 224;
pub const LTO_SYMBOL_PERMISSIONS_CODE: c_int = 160;
pub const LTO_SYMBOL_PERMISSIONS_DATA: c_int = 192;
pub const LTO_SYMBOL_PERMISSIONS_RODATA: c_int = 128;
pub const LTO_SYMBOL_DEFINITION_MASK: c_int = 1792;
pub const LTO_SYMBOL_DEFINITION_REGULAR: c_int = 256;
pub const LTO_SYMBOL_DEFINITION_TENTATIVE: c_int = 512;
pub const LTO_SYMBOL_DEFINITION_WEAK: c_int = 768;
pub const LTO_SYMBOL_DEFINITION_UNDEFINED: c_int = 1024;
pub const LTO_SYMBOL_DEFINITION_WEAKUNDEF: c_int = 1280;
pub const LTO_SYMBOL_SCOPE_MASK: c_int = 14336;
pub const LTO_SYMBOL_SCOPE_INTERNAL: c_int = 2048;
pub const LTO_SYMBOL_SCOPE_HIDDEN: c_int = 4096;
pub const LTO_SYMBOL_SCOPE_PROTECTED: c_int = 8192;
pub const LTO_SYMBOL_SCOPE_DEFAULT: c_int = 6144;
pub const LTO_SYMBOL_SCOPE_DEFAULT_CAN_BE_HIDDEN: c_int = 10240;
pub const LTO_SYMBOL_COMDAT: c_int = 16384;
pub const LTO_SYMBOL_ALIAS: c_int = 32768;
pub const LTO_DEBUG_MODEL_NONE: c_int = 0;
pub const LTO_DEBUG_MODEL_DWARF: c_int = 1;
pub const LTO_CODEGEN_PIC_MODEL_STATIC: c_int = 0;
pub const LTO_CODEGEN_PIC_MODEL_DYNAMIC: c_int = 1;
pub const LTO_CODEGEN_PIC_MODEL_DYNAMIC_NO_PIC: c_int = 2;
pub const LTO_CODEGEN_PIC_MODEL_DEFAULT: c_int = 3;

pub const LTO_DS_ERROR: c_int = 0;
pub const LTO_DS_WARNING: c_int = 1;
pub const LTO_DS_REMARK: c_int = 3;
pub const LTO_DS_NOTE: c_int = 2;
